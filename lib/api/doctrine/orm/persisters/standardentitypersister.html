<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>

<meta name="generator" content="PHPDoctor 2RC4 (http://phpdoctor.sourceforge.net/)">
<meta name="when" content="Wed, 14 Apr 2010 15:12:05 +0000">

<link rel="stylesheet" type="text/css" href="../../../stylesheet.css">
<link rel="start" href="../../../overview-summary.html">

<title>StandardEntityPersister (Doctrine)</title>

</head>
<body id="definition" onload="parent.document.title=document.title;">

<div class="header">
<h1>Doctrine</h1>
<ul>
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="../../../doctrine/orm/persisters/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../../../doctrine/orm/persisters/package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../../index.html" target="_top">Frames</a>
<a href="../../../doctrine/orm/persisters/standardentitypersister.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<div class="qualifiedName">Doctrine\ORM\Persisters\StandardEntityPersister</div>
<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 43</div>

<h1>Class StandardEntityPersister</h1>

<pre class="tree"><strong>StandardEntityPersister</strong><br /></pre>

<hr>

<p class="signature">public  class <strong>StandardEntityPersister</strong></p>

<div class="comment" id="overview_description"><p>A basic entity persister that maps an entity with no (mapped) inheritance to a single table
in the relational database.</p></div>

<dl>
<dt>Author:</dt>
<dd>Roman Borschel <roman@code-factory.org></dd>
<dd>Giorgio Sironi <piccoloprincipeazzurro@gmail.com></dd>
<dt>License:</dt>
<dd>http://www.opensource.org/licenses/lgpl-license.php LGPL</dd>
<dt>Since:</dt>
<dd>2.0</dd>
<dt>Todo:</dt>
<dd>Rename: BasicEntityPersister</dd>
</dl>
<hr>

<table id="summary_field">
<tr><th colspan="2">Field Summary</th></tr>
<tr>
<td class="type">protected  Doctrine\ORM\Mapping\ClassMetadata</td>
<td class="description"><p class="name"><a href="#_class">$_class</a></p><p class="description">Metadata object that describes the mapping of the mapped entity class.</p></td>
</tr>
<tr>
<td class="type">protected  array</td>
<td class="description"><p class="name"><a href="#_columnTypes">$_columnTypes</a></p><p class="description">The map of column names to DBAL mapping types of all prepared columns used when INSERTing
or UPDATEing an entity.</p></td>
</tr>
<tr>
<td class="type">protected  Doctrine\DBAL\Connection $conn</td>
<td class="description"><p class="name"><a href="#_conn">$_conn</a></p><p class="description">The underlying Connection of the used EntityManager.</p></td>
</tr>
<tr>
<td class="type">protected  Doctrine\ORM\EntityManager</td>
<td class="description"><p class="name"><a href="#_em">$_em</a></p><p class="description">The EntityManager instance.</p></td>
</tr>
<tr>
<td class="type">protected  <a href="../../../doctrine/dbal/platforms/abstractplatform.html">AbstractPlatform</a></td>
<td class="description"><p class="name"><a href="#_platform">$_platform</a></p><p class="description">The database platform.</p></td>
</tr>
<tr>
<td class="type">protected  array</td>
<td class="description"><p class="name"><a href="#_queuedInserts">$_queuedInserts</a></p><p class="description">Queued inserts.</p></td>
</tr>
<tr>
<td class="type">protected  array</td>
<td class="description"><p class="name"><a href="#_resultColumnNames">$_resultColumnNames</a></p><p class="description">Case-sensitive mappings of column names as they appear in an SQL result set
to column names as they are defined in the mapping. </p></td>
</tr>
<tr>
<td class="type">protected  string</td>
<td class="description"><p class="name"><a href="#_selectColumnListSql">$_selectColumnListSql</a></p><p class="description">The SELECT column list SQL fragment used for querying entities by this persister.
</p></td>
</tr>
<tr>
<td class="type">protected  integer</td>
<td class="description"><p class="name"><a href="#_sqlAliasCounter">$_sqlAliasCounter</a></p><p class="description">Counter for creating unique SQL table and column aliases.</p></td>
</tr>
<tr>
<td class="type">protected  array</td>
<td class="description"><p class="name"><a href="#_sqlTableAliases">$_sqlTableAliases</a></p><p class="description">Map from class names (FQCN) to the corresponding generated SQL table aliases.</p></td>
</tr>
</table>

<table id="summary_constr">
<tr><th colspan="2">Constructor Summary</th></tr>
<tr>
<td class="description"><p class="name"><a href="#StandardEntityPersister()">StandardEntityPersister</a>(Doctrine\ORM\EntityManager em, Doctrine\ORM\Mapping\ClassMetadata class)</p><p class="description">Initializes a new StandardEntityPersister that uses the given EntityManager
and persists instances of the class described by the given ClassMetadata descriptor.</p></td>
</tr>
</table>

<table id="summary_method">
<tr><th colspan="2">Method Summary</th></tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#addInsert()">addInsert</a>(object entity)</p><p class="description">Adds an entity to the queued insertions.
</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#delete()">delete</a>(object entity)</p><p class="description">Deletes an entity.</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#executeInserts()">executeInserts</a>()</p><p class="description">Executes all queued entity insertions and returns any generated post-insert
identifiers that were created as a result of the insertions.
</p></td>
</tr>
<tr>
<td class="type"> Doctrine\ORM\Mapping\ClassMetadata</td>
<td class="description"><p class="name"><a href="#getClassMetadata()">getClassMetadata</a>()</p><p class="description">Gets the ClassMetadata instance of the entity class this persister is used for.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getInsertSQL()">getInsertSQL</a>()</p><p class="description">Gets the INSERT SQL used by the persister to persist a new entity.</p></td>
</tr>
<tr>
<td class="type"> string</td>
<td class="description"><p class="name"><a href="#getOwningTable()">getOwningTable</a>(string fieldName)</p><p class="description">Gets the name of the table that owns the column the given field is mapped to.</p></td>
</tr>
<tr>
<td class="type"> The</td>
<td class="description"><p class="name"><a href="#load()">load</a>(array criteria, object entity, mixed assoc, array hints, $assoc The)</p><p class="description">Loads an entity by a list of field criteria.</p></td>
</tr>
<tr>
<td class="type"> array</td>
<td class="description"><p class="name"><a href="#loadAll()">loadAll</a>(array criteria)</p><p class="description">Loads a list of entities by a list of field criteria.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#loadManyToManyCollection()">loadManyToManyCollection</a>(<a href="../../../doctrine/orm/mapping/manytomanymapping.html">ManyToManyMapping</a> assoc, array criteria, <a href="../../../doctrine/orm/persistentcollection.html">PersistentCollection</a> coll)</p><p class="description">Loads a collection of entities of a many-to-many association.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#loadOneToManyCollection()">loadOneToManyCollection</a>(<a href="../../../doctrine/orm/mapping/onetomanymapping.html">OneToManyMapping</a> assoc, array criteria, mixed coll, <a href="../../../doctrine/orm/persistentcollection.html">PersistentCollection</a> The)</p><p class="description">Loads a collection of entities in a one-to-many association.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#refresh()">refresh</a>(array id, object entity)</p><p class="description">Refreshes an entity.</p></td>
</tr>
<tr>
<td class="type"> void</td>
<td class="description"><p class="name"><a href="#update()">update</a>(object entity)</p><p class="description">Updates an entity.</p></td>
</tr>
</table>

<h2 id="detail_field">Field Detail</h2>
<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 50</div>
<h3 id="_class">_class</h3>
<code class="signature">protected  Doctrine\ORM\Mapping\ClassMetadata <strong>$_class</strong></code>
<div class="details">
<p>Metadata object that describes the mapping of the mapped entity class.</p></div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 97</div>
<h3 id="_columnTypes">_columnTypes</h3>
<code class="signature">protected  array <strong>$_columnTypes</strong> = array()</code>
<div class="details">
<p>The map of column names to DBAL mapping types of all prepared columns used when INSERTing
or UPDATEing an entity.</p><dl>
<dt>See Also:</dt>
<dd>_prepareInsertData($entity)</dd>
<dd>_prepareUpdateData($entity)</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 57</div>
<h3 id="_conn">_conn</h3>
<code class="signature">protected  Doctrine\DBAL\Connection $conn <strong>$_conn</strong></code>
<div class="details">
<p>The underlying Connection of the used EntityManager.</p></div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 71</div>
<h3 id="_em">_em</h3>
<code class="signature">protected  Doctrine\ORM\EntityManager <strong>$_em</strong></code>
<div class="details">
<p>The EntityManager instance.</p></div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 64</div>
<h3 id="_platform">_platform</h3>
<code class="signature">protected  <a href="../../../doctrine/dbal/platforms/abstractplatform.html">AbstractPlatform</a> <strong>$_platform</strong></code>
<div class="details">
<p>The database platform.</p></div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 78</div>
<h3 id="_queuedInserts">_queuedInserts</h3>
<code class="signature">protected  array <strong>$_queuedInserts</strong> = array()</code>
<div class="details">
<p>Queued inserts.</p></div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 87</div>
<h3 id="_resultColumnNames">_resultColumnNames</h3>
<code class="signature">protected  array <strong>$_resultColumnNames</strong> = array()</code>
<div class="details">
<p>Case-sensitive mappings of column names as they appear in an SQL result set
to column names as they are defined in the mapping. This is necessary because different
RDBMS vendors return column names in result sets in different casings.</p></div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 113</div>
<h3 id="_selectColumnListSql">_selectColumnListSql</h3>
<code class="signature">protected  string <strong>$_selectColumnListSql</strong></code>
<div class="details">
<p>The SELECT column list SQL fragment used for querying entities by this persister.
This SQL fragment is only generated once per request, if at all.</p></div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 120</div>
<h3 id="_sqlAliasCounter">_sqlAliasCounter</h3>
<code class="signature">protected  integer <strong>$_sqlAliasCounter</strong></code>
<div class="details">
<p>Counter for creating unique SQL table and column aliases.</p></div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 127</div>
<h3 id="_sqlTableAliases">_sqlTableAliases</h3>
<code class="signature">protected  array <strong>$_sqlTableAliases</strong> = array()</code>
<div class="details">
<p>Map from class names (FQCN) to the corresponding generated SQL table aliases.</p></div>

<hr>

<h2 id="detail_constr">Constructor Detail</h2>
<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 136</div>
<h3 id="StandardEntityPersister()">StandardEntityPersister</h3>
<code class="signature">public <strong>StandardEntityPersister</strong>(Doctrine\ORM\EntityManager em, Doctrine\ORM\Mapping\ClassMetadata class)</code>
<div class="details">
<p>Initializes a new <tt>StandardEntityPersister</tt> that uses the given EntityManager
and persists instances of the class described by the given ClassMetadata descriptor.</p></div>

<hr>

<h2 id="detail_method">Method Detail</h2>
<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 150</div>
<h3 id="addInsert()">addInsert</h3>
<code class="signature">public  void <strong>addInsert</strong>(object entity)</code>
<div class="details">
<p>Adds an entity to the queued insertions.
The entity remains queued until <code>executeInserts()</code> is invoked.</p><dl>
<dt>Parameters:</dt>
<dd>entity - The entitiy to queue for insertion.</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 302</div>
<h3 id="delete()">delete</h3>
<code class="signature">public  void <strong>delete</strong>(object entity)</code>
<div class="details">
<p>Deletes an entity.</p><dl>
<dt>Parameters:</dt>
<dd>entity - The entity to delete.</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 164</div>
<h3 id="executeInserts()">executeInserts</h3>
<code class="signature">public  array <strong>executeInserts</strong>()</code>
<div class="details">
<p>Executes all queued entity insertions and returns any generated post-insert
identifiers that were created as a result of the insertions.</p><p>If no inserts are queued, invoking this method is a NOOP.</p><dl>
<dt>Returns:</dt>
<dd>An array of any generated post-insert IDs. This will be an empty array if the entity class does not use the IDENTITY generation strategy.</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 316</div>
<h3 id="getClassMetadata()">getClassMetadata</h3>
<code class="signature">public  Doctrine\ORM\Mapping\ClassMetadata <strong>getClassMetadata</strong>()</code>
<div class="details">
<p>Gets the ClassMetadata instance of the entity class this persister is used for.</p></div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 792</div>
<h3 id="getInsertSQL()">getInsertSQL</h3>
<code class="signature">public  string <strong>getInsertSQL</strong>()</code>
<div class="details">
<p>Gets the INSERT SQL used by the persister to persist a new entity.</p></div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 413</div>
<h3 id="getOwningTable()">getOwningTable</h3>
<code class="signature">public  string <strong>getOwningTable</strong>(string fieldName)</code>
<div class="details">
<p>Gets the name of the table that owns the column the given field is mapped to.</p></div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 428</div>
<h3 id="load()">load</h3>
<code class="signature">public  The <strong>load</strong>(array criteria, object entity, mixed assoc, array hints, $assoc The)</code>
<div class="details">
<p>Loads an entity by a list of field criteria.</p><dl>
<dt>Parameters:</dt>
<dd>criteria - The criteria by which to load the entity.</dd>
<dd>entity - The entity to load the data into. If not specified, a new entity is created.</dd>
<dd>The - association that connects the entity to load to another entity, if any.</dd>
<dd>hints - Hints for entity creation.</dd>
<dt>Returns:</dt>
<dd>loaded entity instance or NULL if the entity/the data can not be found.</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 527</div>
<h3 id="loadAll()">loadAll</h3>
<code class="signature">public  array <strong>loadAll</strong>(array criteria)</code>
<div class="details">
<p>Loads a list of entities by a list of field criteria.</p></div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 570</div>
<h3 id="loadManyToManyCollection()">loadManyToManyCollection</h3>
<code class="signature">public  void <strong>loadManyToManyCollection</strong>(<a href="../../../doctrine/orm/mapping/manytomanymapping.html">ManyToManyMapping</a> assoc, array criteria, <a href="../../../doctrine/orm/persistentcollection.html">PersistentCollection</a> coll)</code>
<div class="details">
<p>Loads a collection of entities of a many-to-many association.</p><dl>
<dt>Parameters:</dt>
<dd></dd>
<dd></dd>
<dd>coll - The collection to fill.</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 551</div>
<h3 id="loadOneToManyCollection()">loadOneToManyCollection</h3>
<code class="signature">public  void <strong>loadOneToManyCollection</strong>(<a href="../../../doctrine/orm/mapping/onetomanymapping.html">OneToManyMapping</a> assoc, array criteria, mixed coll, <a href="../../../doctrine/orm/persistentcollection.html">PersistentCollection</a> The)</code>
<div class="details">
<p>Loads a collection of entities in a one-to-many association.</p><dl>
<dt>Parameters:</dt>
<dd></dd>
<dd>criteria - The criteria by which to select the entities.</dd>
<dd>The - collection to fill.</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 445</div>
<h3 id="refresh()">refresh</h3>
<code class="signature">public  void <strong>refresh</strong>(array id, object entity)</code>
<div class="details">
<p>Refreshes an entity.</p><dl>
<dt>Parameters:</dt>
<dd>id - The identifier of the entity as an associative array from column names to values.</dd>
<dd>entity - The entity to refresh.</dd>
</dl>
</div>

<hr>

<div class="location">/Doctrine/ORM/Persisters/StandardEntityPersister.php at line 233</div>
<h3 id="update()">update</h3>
<code class="signature">public  void <strong>update</strong>(object entity)</code>
<div class="details">
<p>Updates an entity.</p><dl>
<dt>Parameters:</dt>
<dd>entity - The entity to update.</dd>
</dl>
</div>

<hr>

<div class="header">
<h1>Doctrine</h1>
<ul>
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="../../../doctrine/orm/persisters/package-summary.html">Namespace</a></li>
<li class="active">Class</li>
<li><a href="../../../doctrine/orm/persisters/package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
</ul>
</div>

<div class="small_links">
<a href="../../../index.html" target="_top">Frames</a>
<a href="../../../doctrine/orm/persisters/standardentitypersister.html" target="_top">No frames</a>
</div>
<div class="small_links">
Summary: <a href="#summary_field">Field</a> | <a href="#summary_method">Method</a> | <a href="#summary_constr">Constr</a>
Detail: <a href="#detail_field">Field</a> | <a href="#detail_method">Method</a> | <a href="#summary_constr">Constr</a>
</div>
<hr>

<p id="footer">This document was generated by <a href="http://peej.github.com/phpdoctor/">PHPDoctor: The PHP Documentation Creator</a></p>

</body>

</html>